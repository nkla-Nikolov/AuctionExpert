function getTimers(){let n=0,i=[],t=document.querySelector(`#timer${n}`);while(t!=null)i.push(t),n++,t=document.querySelector(`#timer${n}`);return i}function deleteAuction(n){var t=document.querySelector("#antiForgeryForm input").value;console.log(t);fetch(`/api/ApiAuction/?id=${n}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":t}}).then(n=>{if(!n.ok)throw new Error("Something went wrong");}).then(()=>{window.location.href.endsWith(n)?window.location.href="https://localhost:44319/":window.location.reload()})}function countDown(){let n=getTimers();if(n.length!=0)for(let t=0;t<n.length;t++){let h=document.querySelector(`#timer${t}`).getAttribute("data-enddate"),c=new Date(h).getTime(),l=(new Date).getTime(),n=c-l,u=1e3,i=u*60,r=i*60,f=r*24,e=Math.floor(n/f),o=Math.floor(n%f/r),s=Math.floor(n%r/i),a=Math.floor(n%i/u);if(e<1&&o<1&&s<6){let n=document.querySelector(`#timer${t}`).getAttribute("data-auctionId");deleteAuction(n)}document.querySelector(`#days${t}`).textContent=e;document.querySelector(`#hours${t}`).textContent=o;document.querySelector(`#minutes${t}`).textContent=s;document.querySelector(`#seconds${t}`).textContent=a}}function getSubCategories(){let i=document.querySelectorAll("div .list")[0],t=Number.parseInt(i.querySelector(".selected").getAttribute("data-value")),n=document.querySelectorAll("div .list")[1];if(!Number.isInteger(t)||t==0){n.parentElement.parentElement.parentElement.style.display="none";return}fetch(`/api/SubCategory/?id=${t}`,{method:"get"}).then(n=>n.json()).then(t=>{n.parentElement.parentElement.parentElement.style.display="block";for(let i=0;i<t.length;i++){let r=document.createElement("li");r.classList.add("option");r.setAttribute("data-value",t[i].id);r.textContent=t[i].name;n.appendChild(r)}});n.innerHTML="";document.querySelectorAll(".current")[1].textContent=""}function getSubCategoryId(){let n=document.querySelectorAll("div .list")[1],i=Number.parseInt(n.querySelector(".selected").getAttribute("data-value")),t=n.parentElement.parentElement.getElementsByTagName("option")[0];t.setAttribute("value",i);t.classList.add("selected")}setInterval(countDown,1e3);