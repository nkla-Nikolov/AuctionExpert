function getTimers(){let n=0,i=[],t=document.querySelector(`#timer${n}`);while(t!=null)i.push(t),n++,t=document.querySelector(`#timer${n}`);return i}function deleteAuction(n){var t=document.querySelector("#antiForgeryForm input").value;fetch(`/api/ApiAuction/?id=${n}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":t}}).then(n=>{if(!n.ok)throw new Error("Something went wrong");}).then(()=>{window.location.href.endsWith(n)?window.location.href="https://localhost:44319/":window.location.reload()})}function countDown(){let n=getTimers();if(n.length!=0)for(let t=0;t<n.length;t++){let h=document.querySelector(`#timer${t}`).getAttribute("data-enddate"),c=new Date(h).getTime(),l=(new Date).getTime(),n=c-l,u=1e3,i=u*60,r=i*60,f=r*24,e=Math.floor(n/f),o=Math.floor(n%f/r),s=Math.floor(n%r/i),a=Math.floor(n%i/u);if(e<1&&o<1&&s<6){let n=document.querySelector(`#timer${t}`).getAttribute("data-auctionId");deleteAuction(n)}document.querySelector(`#days${t}`).textContent=e;document.querySelector(`#hours${t}`).textContent=o;document.querySelector(`#minutes${t}`).textContent=s;document.querySelector(`#seconds${t}`).textContent=a}}function getSubCategories(){let i=document.querySelectorAll("div .list")[0],t=Number.parseInt(i.querySelector(".selected").getAttribute("data-value")),n=document.querySelectorAll("div .list")[1];if(!Number.isInteger(t)||t==0){n.parentElement.parentElement.parentElement.style.display="none";return}fetch(`/api/SubCategory/?id=${t}`,{method:"get"}).then(n=>n.json()).then(t=>{n.parentElement.parentElement.parentElement.style.display="block";for(let i=0;i<t.length;i++){let r=document.createElement("li");r.classList.add("option");r.setAttribute("data-value",t[i].id);r.textContent=t[i].name;n.appendChild(r)}});n.innerHTML="";document.querySelectorAll(".current")[1].textContent=""}function getSubCategoryId(){let n=document.querySelectorAll("div .list")[1],i=Number.parseInt(n.querySelector(".selected").getAttribute("data-value")),t=n.parentElement.parentElement.getElementsByTagName("option")[0];t.setAttribute("value",i);t.classList.add("selected")}function openModal(){document.getElementById("myModal").style.display="block";document.querySelector("body").style.overflow="hidden"}function closeModal(){document.getElementById("myModal").style.display="none";document.querySelector("body").style.overflow="visible"}function plusSlides(n){showSlides(slideIndex+=n)}function currentSlide(n){showSlides(slideIndex=n)}function showSlides(n){var t,i=document.getElementsByClassName("mySlides"),r=document.getElementsByClassName("demo"),u=document.getElementById("caption");for(n>i.length&&(slideIndex=1),n<1&&(slideIndex=i.length),t=0;t<i.length;t++)i[t].style.display="none";for(t=0;t<r.length;t++)r[t].className=r[t].className.replace(" active","");i[slideIndex-1].style.display="block";r[slideIndex-1].className+=" active";u.innerHTML=r[slideIndex-1].alt}function openModal(){document.getElementById("myModal").style.display="block";document.querySelector("body").style.overflow="hidden"}function closeModal(){document.getElementById("myModal").style.display="none";document.querySelector("body").style.overflow="visible"}function plusSlides(n){showSlides(slideIndex+=n)}function currentSlide(n){showSlides(slideIndex=n)}function showSlides(n){var t=document.getElementsByClassName("mySlides"),i=document.getElementsByClassName("demo"),r=document.getElementById("caption");n>t.length&&(slideIndex=1);n<1&&(slideIndex=t.length);for(let n=0;n<t.length;n++)t[n].style.display="none";for(let n=0;n<i.length;n++)i[n].className=i[n].className.replace(" active","");t[slideIndex-1]!=undefined&&(t[slideIndex-1].style.display="block");i[slideIndex-1]!=undefined&&(i[slideIndex-1].className+=" active",r.innerHTML=i[slideIndex-1].alt)}function likeAuction(n,t,i){$.ajax({type:"POST",url:"/Auction/LikeAuction",data:n,headers:{"X-CSRF-TOKEN":t},success:function(n){n.result==!0&&(i.target.classList.remove("bi-heart"),i.target.classList.add("bi-heart-fill"))}})}function dislikeAuction(n,t,i){$.ajax({type:"POST",url:"/Auction/DislikeAuction",data:n,headers:{"X-CSRF-TOKEN":t},success:function(n){n.result==!0&&(i.target.classList.remove("bi-heart-fill"),i.target.classList.add("bi-heart"))}})}var slideIndex;setInterval(countDown,1e3);slideIndex=1;showSlides(slideIndex);slideIndex=1;showSlides(slideIndex);$(document).ready(function(){$(".like i").click(function(n){n.preventDefault();let r=$(this).parent().attr("data-auctionid"),t=$("#antiForgeryForm input").val();var i={auctionId:r};$.ajax({type:"GET",url:"/Auction/DoesUserLikeCurrentAuction",data:i,headers:{"X-CSRF-TOKEN":t},success:function(r){r?dislikeAuction(i,t,n):likeAuction(i,t,n)}})})});