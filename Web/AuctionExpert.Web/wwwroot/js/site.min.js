function getTimers(){let n=0,i=[],t=document.querySelector(`#timer${n}`);while(t!=null)i.push(t),n++,t=document.querySelector(`#timer${n}`);return i}function deleteAuction(n){fetch(`/api/ApiAuction/?id=${n}`,{method:"DELETE"}).then(n=>{if(!n.ok)throw new Error("Something went wrong");}).then(()=>{window.location.href.endsWith(n)?window.location.href="https://localhost:44319/":window.location.reload()})}function countDown(){let n=getTimers();if(n.length!=0)for(let t=0;t<n.length;t++){let c=document.querySelector(`#timer${t}`).getAttribute("data-enddate"),l=new Date(c).getTime(),a=(new Date).getTime(),u=l-a,s=1e3,e=s*60,o=e*60,h=o*24,n=Math.floor(u/h),i=Math.floor(u%h/o),r=Math.floor(u%o/e),f=Math.floor(u%e/s);if(n<"10"&&(n="0"+n),i<"10"&&(i="0"+i),r<"10"&&(r="0"+r),f<"10"&&(f="0"+f),n<1&&i<1&&r<6){let n=document.querySelector(`#timer${t}`).getAttribute("data-auctionId");deleteAuction(n)}document.querySelector(`#days${t}`).textContent=n;document.querySelector(`#hours${t}`).textContent=i;document.querySelector(`#minutes${t}`).textContent=r;document.querySelector(`#seconds${t}`).textContent=f}}function getSubCategories(){let i=document.querySelectorAll("div .list")[0],t=Number.parseInt(i.querySelector(".selected").getAttribute("data-value")),n=document.querySelectorAll("div .list")[1];if(!Number.isInteger(t)||t==0){n.parentElement.parentElement.parentElement.style.display="none";return}fetch(`/api/SubCategory/?id=${t}`,{method:"get"}).then(n=>n.json()).then(t=>{n.parentElement.parentElement.parentElement.style.display="block";for(let i=0;i<t.length;i++){let r=document.createElement("li");r.classList.add("option");r.setAttribute("data-value",t[i].id);r.textContent=t[i].name;n.appendChild(r)}});n.innerHTML="";document.querySelectorAll(".current")[1].textContent=""}function getSubCategoryId(){let n=document.querySelectorAll("div .list")[1],i=Number.parseInt(n.querySelector(".selected").getAttribute("data-value")),t=n.parentElement.parentElement.getElementsByTagName("option")[0];t.setAttribute("value",i);t.classList.add("selected")}setInterval(countDown,1e3);